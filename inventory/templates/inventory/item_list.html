{% extends "base.html" %}

{% block title %}Inventory â€” MVPH{% endblock %}

{% block content %}
<h1>Inventory</h1>

<div class="filters">
  <div id="category-tabs" class="category-tabs" role="tablist">
    <a href="{% url 'inventory:item_list' %}"
       class="tab {% if not current_category %}active{% endif %}"
       hx-get="{% url 'inventory:item_list' %}"
       hx-target="#item-table-wrapper"
       hx-push-url="true">All</a>
    <a href="{% url 'inventory:item_list' %}?category=ingredient"
       class="tab {% if current_category == 'ingredient' %}active{% endif %}"
       hx-get="{% url 'inventory:item_list' %}?category=ingredient"
       hx-target="#item-table-wrapper"
       hx-push-url="true">Ingredients</a>
    <a href="{% url 'inventory:item_list' %}?category=chemical"
       class="tab {% if current_category == 'chemical' %}active{% endif %}"
       hx-get="{% url 'inventory:item_list' %}?category=chemical"
       hx-target="#item-table-wrapper"
       hx-push-url="true">Chemicals</a>
    <a href="{% url 'inventory:item_list' %}?category=finished_good"
       class="tab {% if current_category == 'finished_good' %}active{% endif %}"
       hx-get="{% url 'inventory:item_list' %}?category=finished_good"
       hx-target="#item-table-wrapper"
       hx-push-url="true">Finished Goods</a>
  </div>

  <input type="search"
         name="search"
         placeholder="Search items..."
         value="{{ search_query }}"
         hx-get="{% url 'inventory:item_list' %}{% if current_category %}?category={{ current_category }}{% endif %}"
         hx-trigger="keyup changed delay:300ms"
         hx-target="#item-table-wrapper"
         hx-include="this"
         class="search-input">
</div>

<div id="item-table-wrapper">
  {% include "inventory/partials/item_table.html" %}
</div>
{% endblock %}
